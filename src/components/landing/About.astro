---
import { useTranslations } from "../../i18n/utils";
import type { Lang } from "../../types/lang";

const currentLang = Astro.currentLocale as Lang;
const transtaledLabels = useTranslations(currentLang);

const skills: Record<
  Lang,
  Record<string, { name: string; isSenior: boolean }[]>
> = {
  en: {
    frontend: [
      { name: "Angular (Senior)", isSenior: true },
      { name: "TypeScript", isSenior: true },
      { name: "React", isSenior: false },
      { name: "Flutter/Dart", isSenior: false },
      { name: "HTML/CSS", isSenior: false },
      { name: "Tailwind", isSenior: false },
    ],
    backend: [
      { name: "Node.js/Express (Senior)", isSenior: true },
      { name: "MongoDB (Senior)", isSenior: true },
      { name: "Socket.io (Senior)", isSenior: true },
      { name: "Spring Boot", isSenior: false },
      { name: "MySQL", isSenior: false },
    ],
    tools: [
      { name: "Team Leadership", isSenior: true },
      { name: "Project Management", isSenior: true },
      { name: "Git/GitHub", isSenior: false },
      { name: "Figma", isSenior: false },
      { name: "Postman", isSenior: false },
      { name: "System Architecture", isSenior: false },
    ],
  },
  es: {
    frontend: [
      { name: "Angular (Senior)", isSenior: true },
      { name: "TypeScript", isSenior: true },
      { name: "React", isSenior: false },
      { name: "Flutter/Dart", isSenior: false },
      { name: "HTML/CSS", isSenior: false },
      { name: "Tailwind", isSenior: false },
    ],
    backend: [
      { name: "Node.js/Express (Senior)", isSenior: true },
      { name: "MongoDB (Senior)", isSenior: true },
      { name: "Socket.io (Senior)", isSenior: true },
      { name: "Spring Boot", isSenior: false },
      { name: "MySQL", isSenior: false },
    ],
    tools: [
      { name: "Liderazgo de Equipo", isSenior: true },
      { name: "Gestión de Proyectos", isSenior: true },
      { name: "Git/GitHub", isSenior: false },
      { name: "Figma", isSenior: false },
      { name: "Postman", isSenior: false },
      { name: "Arquitectura del Sistema", isSenior: false },
    ],
  },
};

const attributes: Record<Lang, string[]> = {
  en: [
    "Strong analytical and problem-solving skills developed through complex project management",
    "Effective team leadership and communication abilities",
    "Dedicated to continuous learning and always using the latest technological trends",
    "Ability to balance technical excellence with business objectives",
  ],
  es: [
    "Fuertes habilidades analíticas y de resolución de problemas desarrolladas a través de la gestión de proyectos complejos",
    "Capacidades efectivas de liderazgo de equipo y comunicación",
    "Dedicado al aprendizaje continuo y siempre utilizando las últimas tendencias tecnológicas",
    "Capacidad para equilibrar la excelencia técnica con los objetivos comerciales",
  ],
};
---

<section id="about" class="about-section">
  <div class="about-container">
    <h2 class="heading-1">{transtaledLabels("about.title")}</h2>

    <div class="about-content">
      <div class="personal-info">
        <p class="description">
          {
            transtaledLabels("about.personal-info.description")
              .split("/")
              .map((text) =>
                !text.includes("*") ? (
                  text
                ) : (
                  <>
                    <span class="yellow-text">{text.replaceAll("*", "")}</span>
                  </>
                )
              )
          }
        </p>
      </div>

      <div class="expertise">
        <h3 class="heading-3">{transtaledLabels("about.expertise.title")}</h3>
        <div class="skills-grid">
          <div class="skill-category">
            <h4 class="heading-4">Frontend</h4>
            <ul>
              {
                skills[currentLang].frontend.map((skill) => (
                  <li class={skill.isSenior ? "with-border" : ""}>
                    {skill.name}
                  </li>
                ))
              }
            </ul>
          </div>
          <div class="skill-category">
            <h4 class="heading-4">Backend</h4>
            <ul>
              {
                skills[currentLang].backend.map((skill) => (
                  <li class={skill.isSenior ? "with-border" : ""}>
                    {skill.name}
                  </li>
                ))
              }
            </ul>
          </div>
          <div class="skill-category">
            <h4 class="heading-4">{transtaledLabels("about.expertise.3")}</h4>
            <ul>
              {
                skills[currentLang].tools.map((skill) => (
                  <li class={skill.isSenior ? "with-border" : ""}>
                    {skill.name}
                  </li>
                ))
              }
            </ul>
          </div>
        </div>
      </div>

      <div class="key-attributes">
        <h3 class="heading-3">
          {transtaledLabels("about.key-attributes.title")}
        </h3>
        <div class="attributes-grid">
          {
            attributes[currentLang].map((attribute) => (
              <div class="attribute-item">
                <p class="heading-4">{attribute}</p>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .about-section {
    background: #1d1d1d;
    background: -webkit-linear-gradient(to right, #1d1d1d, #37291a);
    background: linear-gradient(to right, #1d1d1d, #37291a);

    padding: 8rem 15rem;
    color: #e2e2e2;
  }

  .about-container {
    display: flex;
    flex-direction: column;
    gap: 4rem;
  }

  .about-content {
    display: flex;
    flex-direction: column;
    gap: 3rem;
  }

  .personal-info {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .description {
    font-size: 20px;
    line-height: 1.6;
    max-width: 900px;
    text-align: justify;
  }

  .expertise {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .skills-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
  }

  .skill-category {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .skill-category h4 {
    color: #f80;
    font-family: "space-grotesk-bold";
  }

  .skill-category ul {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .skill-category li {
    font-size: 18px;
    line-height: 1.4;
  }

  .with-border {
    border-bottom: 1px solid #f80;
    width: fit-content;
  }

  .key-attributes {
    margin-top: 4rem;
  }

  .attributes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
  }

  .attribute-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    transition: transform 0.3s ease;
  }

  .attribute-item:hover {
    transform: translateY(-5px);
  }

  @media (max-width: 768px) {
    .about-section {
      padding: 6rem 2rem;
    }

    .attributes-grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    .attribute-item {
      padding: 1.25rem;
    }

    .attribute-item p {
      font-size: 15px;
    }

    .key-attributes {
      margin-top: 3rem;
    }

    .description {
      text-align: left;
    }
  }

  @media (max-width: 480px) {
    .about-section {
      padding: 4rem 2rem;
    }

    .skill-category li {
      font-size: 16px;
    }

    .attribute-item {
      padding: 1rem;
    }

    .attribute-item p {
      font-size: 14px;
    }

    .key-attributes {
      margin-top: 2.5rem;
    }
  }
</style>
