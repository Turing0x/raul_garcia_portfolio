---

---

<button id="scroll-progress-btn" class="scroll-btn large">
  <span>Scroll Down</span>
  <img src="/icons/arrow_down.svg" alt="arrow down" />
</button>

<style>
  .scroll-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    background: #1c4353;
    border: none;
    cursor: pointer;
    z-index: 100;
    overflow: hidden;
    transition:
      transform 0.2s ease-in-out,
      width 0.2s ease-in-out,
      height 0.2s ease-in-out,
      border-radius 0.2s ease-in-out,
      font-size 0.2s ease-in-out,
      gap 0.2s ease-in-out,
      padding 0.2s ease-in-out;
  }

  .scroll-btn.short {
    width: 4rem;
    height: 4rem;
    border-radius: 50%;
  }

  .scroll-btn.large {
    gap: 1rem;
    border-radius: 0.2rem;
    padding: 6px 18px;
    font-size: 1.2rem;
  }

  .scroll-btn::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 50%;
    padding: 2px; /* Grosor del borde */
    background: conic-gradient(#f80 var(--progress, 0%), transparent 0);
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  .scroll-btn img {
    color: #f80;
    font-size: 1.5rem;
    position: relative;
    z-index: 1;
  }

  .scroll-btn:hover img {
    transform: translateY(-2px);
    transition: transform 0.2s ease;
  }
</style>

<script>
  const btn = document.getElementById("scroll-progress-btn");

  // Funci贸n para calcular el progreso del scroll
  const calculateScrollProgress = () => {
    const windowHeight =
      document.documentElement.scrollHeight - window.innerHeight;
    const scrolled = window.scrollY;
    const progress = (scrolled / windowHeight) * 100;
    return Math.min(progress, 100);
  };

  // Funci贸n para actualizar la animaci贸n
  const updateProgress = () => {
    if (btn) {
      const progress = calculateScrollProgress();
      btn.style.setProperty("--progress", `${progress}%`);

      if (progress > 0) {
        btn.classList.remove("large");
        btn.classList.add("short");

        btn.innerHTML = `<img src="/icons/arrow_up.svg" alt="arrow up" />`;
      } else {
        btn.classList.remove("short");
        btn.classList.add("large");

        btn.innerHTML = `
        <span>Scroll Down</span>
        <img src="/icons/arrow_down.svg" alt="arrow down" />
        `;
      }
    }
  };

  // Funci贸n para scroll hacia arriba
  const scrollToTop = () => {
    window.scrollTo({
      top: 0,
      behavior: "smooth",
    });
  };

  // Event listeners
  window.addEventListener("scroll", updateProgress);
  btn?.addEventListener("click", scrollToTop);
</script>
